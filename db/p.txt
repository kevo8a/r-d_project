-- Create database
CREATE DATABASE rnd_project;
USE rnd_project;

-- Table 'rol'
CREATE TABLE rol (
    id INT PRIMARY KEY,
    description VARCHAR(255)
);

-- Table 'users'
CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    id_user INT UNIQUE,
    name VARCHAR(255),
    last_name VARCHAR(255),
    email VARCHAR(255),
    password VARCHAR(255),
    id_rol INT,
    site VARCHAR(255),
    FOREIGN KEY (id_rol) REFERENCES rol(id)
);

-- Table 'client'
CREATE TABLE client (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) UNIQUE,  -- Added UNIQUE constraint
    email VARCHAR(255)
);

-- Table 'form1'
CREATE TABLE form1 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    id_form1 VARCHAR(255) UNIQUE,  -- Changed to VARCHAR(255) and added UNIQUE constraint
    status_form1 VARCHAR(255),
    id_user INT,
    created_at VARCHAR(255),
    completed_at VARCHAR(255),
    qualified_by VARCHAR(255),
    name_user VARCHAR(255),
    site_user VARCHAR(255),
    name_client VARCHAR(255),
    project_name VARCHAR(255),
    rfq_number INT,
    delivery_format VARCHAR(255),
    packaging_format VARCHAR(255),
    convenience_element_of_packaging VARCHAR(255),
    filling_process VARCHAR(255),
    packaging_system VARCHAR(255),
    sales_unit VARCHAR(255),
    volume_per_order INT,
    annual_volume INT,
    printing_system VARCHAR(255),
    number_of_colors INT,
    width_mm FLOAT,
    width_tolerance_mm FLOAT,
    continuous_check BOOLEAN,
    photo_distances_mm FLOAT,
    photo_distances_tolerance_mm FLOAT,
    thickness_microns FLOAT,
    thickness_tolerance_microns FLOAT,
    weight_gm2 FLOAT,
    weight_tolerance_gm2 FLOAT,
    bag_check BOOLEAN,
    length_mm FLOAT,
    length_tolerance_mm FLOAT,
    gusset_mm FLOAT,
    gusset_tolerance_mm FLOAT,
    overlap_mm FLOAT,
    overlap_tolerance_mm FLOAT,
    technical_sheet BOOLEAN,
    physical_sample BOOLEAN,
    mechanical_plan BOOLEAN,
    pdf_art BOOLEAN,
    comments VARCHAR(255),
    file_rute VARCHAR(255),
    file_name VARCHAR(255),
    FOREIGN KEY (id_user) REFERENCES users(id_user),
    FOREIGN KEY (name_client) REFERENCES client(name)
);

-- Table 'form2'
CREATE TABLE form2 (
    id INT PRIMARY KEY AUTO_INCREMENT,
    id_form2 VARCHAR(255),
    status_form2 VARCHAR(255),
    id_user INT,
    created_at VARCHAR(255),
    completed_at VARCHAR(255),
    qualified_by VARCHAR(255),
    name_user VARCHAR(255),
    site_user VARCHAR(255),
    name_client VARCHAR(255),
    project_name VARCHAR(255),
    row1 JSON,
    row2 JSON,
    row3 JSON,
    row4 JSON,
    row5 JSON,
    row6 JSON,
    row7 JSON,
    comments VARCHAR(255),
);

-- Insert sample values into 'rol'
INSERT INTO rol (id, description) VALUES 
(1, 'Admin'),
(2, 'Approver'),
(3, 'User');

-- Insert sample values into 'users'
INSERT INTO users (id_user, name, last_name, email, password, id_rol, site)
VALUES 
(3664, 'Jonathan', 'Solis', 'Jonathan.Solis@amcor.com', 'password123', 2, 'Zacapu'),
(4567, 'Jane', 'Smith', 'jane.smith@amcor.com', 'password456', 3, 'London'),
(3324, 'Kevin', 'Ochoa', 'kevin.ochoa@amcor.com', 'password123', 1, 'Tlaquepaque');

-- Insert sample values into 'client'
INSERT INTO client (name, email) VALUES 
('Acme Corp', 'contact@acme.com'),
('Globex', 'info@globex.com');

-- Insert sample values into 'form1'
INSERT INTO form1 (id_form1, status_form1, id_user, name_user, site_user, name_client, project_name, rfq_number, delivery_format, packaging_format, convenience_element_of_packaging, filling_process, packaging_system, sales_unit, volume_per_order, annual_volume, printing_system, number_of_colors, width_mm, width_tolerance_mm, photo_distances_mm, photo_distances_tolerance_mm, thickness_microns, thickness_tolerance_microns, weight_gm2, weight_tolerance_gm2, length_mm, length_tolerance_mm, gusset_mm, gusset_tolerance_mm, overlap_mm, overlap_tolerance_mm, technical_sheet, physical_sample, mechanical_plan, pdf_art, continuous_check, bag_check, qualified_by )
VALUES 
('101', 'Corregir', 3664, 'John Doe', 'Zacapu', 'Acme Corp', 'Project A', 12345, 'PDF', 'Box', 'Plastic', 'Sealed', 'Shrink Wrap', 'Unit', 1000, 5000, 'Flexo', 4, 150.5, 0.5, 12.5, 0.2, 25, 1, 350, 10, 50, 1, 10, 0.5, 2.5, 0.1, TRUE, TRUE, TRUE, FALSE, FALSE, 'SÃ­','Flavio');
